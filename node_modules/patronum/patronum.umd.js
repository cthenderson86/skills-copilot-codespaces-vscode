!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("effector")):"function"==typeof define&&define.amd?define(["exports","effector"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).patronum={},e.effector)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t);function o(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var a=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.and=function(...e){return(0,r.default.combine)({and:[e,e=>{for(const t of e)if(!t)return!1;return!0}],or:{sid:"-rbm5ks"}})}})),i=o((function(e,t){function n(e){throw new Error(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.combineEvents=function({events:e,reset:t,target:o=(0,r.default.createEvent)({name:"target",sid:"aip3nf"})}){r.default.is.unit(o)||n("target should be a unit");t&&!r.default.is.unit(t)&&n("reset should be a unit");return(0,r.default.withRegion)(o,(()=>{const n=Object.keys(e),a=Array.isArray(e)?[...n].fill(""):{},i=(0,r.default.createStore)(n.length,{and:{serialize:"ignore"},name:"$counter",sid:"-dby0v3"}),u=(0,r.default.createStore)(a,{and:{serialize:"ignore"},name:"$results",sid:"c60qbe"});i.reset((0,r.default.sample)({and:[{source:o}],or:{sid:"-8hxq8z"}})),u.reset(o),t&&(i.reset((0,r.default.sample)({and:[{source:t}],or:{sid:"3c6u5p"}})),u.reset(t));for(const a of n){const n=(0,r.default.createStore)(!1,{and:{serialize:"ignore"},name:"$isDone",sid:"uttu1j"}).on(e[a],(()=>!0)).reset(o);t&&n.reset(t),i.on(n,(e=>e-1)),u.on(e[a],((e,t)=>{const n=Array.isArray(e)?[...e]:{...e};return n[a]=t,n}))}(0,r.default.guard)({and:[{source:(0,r.default.sample)({and:[{source:u,clock:(0,r.default.merge)(Object.values(e),{name:"clock",sid:"-531esq"})}],or:{name:"source",sid:"uwap9g"}}),filter:i.map((e=>0===e)),target:o}],or:{sid:"ciyd7d"}})})),o}})),u=o((function(e,t){function n(e){return r.default.is.unit(e)?e.map((e=>!e)):t=>!e(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.condition=function({if:e,then:t,else:o,source:a=(0,r.default.createEvent)({name:"source",sid:"epke23"})}){const i=r.default.is.unit(e)||(u=e,"function"==typeof u)?e:t=>t===e;var u;t&&o?(0,r.default.split)({and:[{source:a,match:{then:i,else:n(i)},cases:{then:t,else:o}}],or:{sid:"9tug3k"}}):t?(0,r.default.guard)({and:[{source:a,filter:i,target:t}],or:{sid:"abznoh"}}):o&&(0,r.default.guard)({and:[{source:a,filter:n(i),target:o}],or:{sid:"-eb29qp"}});return a}})),s=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function({source:e,timeout:t,target:n}){if(!r.default.is.unit(e))throw new TypeError("source must be unit from effector");if(r.default.is.domain(e,{sid:"k76nst"}))throw new TypeError("source cannot be domain");const o=function(e){if(r.default.is.store(e,{sid:"-m1yad"}))return e;if("number"==typeof e){if(e<0||!Number.isFinite(e))throw new Error(`timeout must be positive number or zero. Received: "${e}"`);return(0,r.default.createStore)(e,{and:{name:"$timeout"},sid:"-67guyq"})}throw new TypeError(`timeout parameter in interval method should be number or Store. "${typeof e}" was passed`)}(t),a=(0,r.default.createEvent)({name:"saveTimeoutId",sid:"vsg63k"}),i=(0,r.default.createStore)(null,{and:{serialize:"ignore"},name:"$timeoutId",sid:"lhz3ie"}).on(a,((e,t)=>t)),u=(0,r.default.createEvent)({name:"saveReject",sid:"qddkx3"}),s=(0,r.default.createStore)(null,{and:{serialize:"ignore"},name:"$rejecter",sid:"-o8m8p2"}).on(u,((e,t)=>t)),d=null!=n?n:(0,r.default.createEvent)({name:"tick",sid:"a51tok"}),c=(0,r.default.createEffect)((({timeout:e,timeoutId:t,rejectPromise:n})=>(t&&clearTimeout(t),n&&n(),new Promise(((t,n)=>{u(n),a(setTimeout(t,e))})))),{name:"timerBaseFx",sid:"-6dos97"}),l=(0,r.default.attach)({and:{name:`debounce(${e.shortName||e.kind}) effect`,source:{timeoutId:i,rejectPromise:s},mapParams:(e,{timeoutId:t,rejectPromise:n})=>({timeout:e,timeoutId:t,rejectPromise:n}),effect:c},or:{name:"timerFx",sid:"ca9mop"}});s.reset(l.done),i.reset(l.done);const f=(0,r.default.createStore)([],{and:{serialize:"ignore"},name:"$payload",sid:"kaji03"}).on(e,((e,t)=>[t])),m=(0,r.default.createStore)(!0,{and:{serialize:"ignore"},name:"$canTick",sid:"-gzi9li"}),p=(0,r.default.createEvent)({name:"triggerTick",sid:"3ifzes"});m.on(p,(()=>!1)).on([d,o,l],(()=>!0));const g=(0,r.default.merge)([e,(0,r.default.guard)({and:[{clock:o,filter:l.pending}],or:{name:"requestTick",sid:"pubo1h"}})],{name:"requestTick",sid:"8eq3mx"});return(0,r.default.guard)({and:[{clock:g,filter:m,target:p}],or:{sid:"-1lskya"}}),(0,r.default.sample)({and:[{source:o,clock:p,target:l}],or:{sid:"-1ihte4"}}),(0,r.default.sample)({and:[{source:f,clock:l.done,fn:([e])=>e,target:d}],or:{sid:"-13nddd"}}),d}})),d=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.debug=o;const n={trace:!1,handler:e=>{if(y(e.node)&&"finally"===e.node.meta.named)return;const{scope:t,scopeName:n,name:r,kind:o,value:a,loc:i,trace:u,node:s,logType:d}=e,c=t?` (scope: ${n})`:"",l=null!=r?r:i?`${i.file}:${i.line}:${i.column}`:"",f="initial"===d?" [getState]":"";console.info(`[${o}]${c} ${l}${f}`,a),u&&u.length>0&&!y(s)&&(console.groupCollapsed(`[${o}]${c} ${l} trace`),u.forEach((e=>{const{name:t,kind:n,value:r,loc:o}=e,a=null!=t?t:o?`${o.file}:${o.line}:${o.column}`:"";console.info(`<- [${n}] ${a}`,r)})),console.groupEnd())}};function o(...e){const{config:t,units:o}=function(...e){let t=n;const[o,...a]=e,i=[];if(function(e){if(!r.default.is.unit(e))return!Object.values(e).every(r.default.is.unit);return!1}(o))t={...n,...o};else if(r.default.is.unit(o))i.push(o);else for(const[e,t]of Object.entries(o))b.set(v(t).id,e),i.push(t);for(const e of a)if(r.default.is.unit(e))i.push(e);else for(const[t,n]of Object.entries(e))b.set(v(n).id,t),i.push(n);return{config:t,units:i}}(...e);o.forEach((e=>{r.default.is.store(e,{sid:"-foynff"})||r.default.is.event(e,{sid:"apy28p"})||r.default.is.effect(e,{sid:"apy3od"})?i(e,t):r.default.is.domain(e,{sid:"-rsqe9t"})&&a(e,t)}))}function a(e,t){e.onCreateStore((e=>i(e,t))),e.onCreateEvent((e=>i(e,t))),e.onCreateEffect((e=>i(e,t))),e.onCreateDomain((e=>a(e,t)))}function i(e,t){r.default.is.store(e,{sid:"w7ds2s"})?(!function(e,t){if(!t.handler)throw Error("patronum/debug must have the handler");const n={logType:"initial",scope:null,scopeName:null,node:$(e),kind:h(e),value:e.getState(),name:w(e),loc:j(e),trace:[],stackMeta:{}};t.handler(n),p.forEach((n=>d(e,t,n))),l((n=>d(e,t,n)))}(e,t),u(e,t)):r.default.is.event(e,{sid:"fretyd"})?u(e,t):r.default.is.effect(e,{sid:"gpi2qr"})&&(u(e,t),u(e.finally,t),u(e.done,t),u(e.fail,t))}function u(e,t){const n=(0,r.default.createNode)({parent:[e],meta:{op:"watch"},family:{owners:e},regional:!0,node:[r.default.step.run({fn(n,r,o){var a;const i=null!==(a=o?.scope)&&void 0!==a?a:null,u={logType:"update",scope:i,scopeName:g(i),node:$(e),kind:h(e),value:n,name:w(e),loc:j(e),stackMeta:_(o.parent),trace:t.trace?s(o):[]};if(!t.handler)throw Error("patronum/debug must have the handler");t.handler(u)}})]});return()=>(0,r.default.clearNode)(n)}function s(e){const t=[];let n=e?.parent;for(;n;){const{node:e,value:r}=n,o={node:e,value:r,name:w(e),loc:j(e),kind:h(e),stackMeta:_(n)};t.push(o),n=n.parent}return t}function d(e,t,n){if(!t.handler)throw Error("patronum/debug must have the handler");const r=$(e),o={logType:"initial",scope:n,scopeName:g(n),node:r,kind:h(e),value:n.getState(e),name:w(e),loc:j(e),trace:[],stackMeta:{}};t.handler(o)}const c=new Set,l=e=>(c.add(e),()=>{c.delete(e)});let f=0;const m=new Map,p={save(e,t){p.get(e)||m.set(e,t)},get(e){var t;return e&&null!==(t=m.get(e))&&void 0!==t?t:null},delete(e){m.delete(e)},forEach(e){m.forEach(((t,n)=>e(n,t)))},clear(){m.clear()}};function g(e){if(!e)return null;const t=p.get(e);if(!t){return e._debugId||(e._debugId=(f+=1,`unknown_${f}`))}return t.name}function y(e){const t=$(e),{sid:n,named:r}=t.meta;return Boolean(!n&&("finally"===r||"done"===r||"doneData"===r||"fail"===r||"failData"===r||"inFlight"===r||"pending"===r))}function h(e){if(r.default.is.store(e,{sid:"4o7s04"}))return"store";if(r.default.is.effect(e,{sid:"4pv5s7"})||y(e))return"effect";if(r.default.is.event(e,{sid:"4rijka"}))return"event";if(r.default.is.domain(e,{sid:"54plsy"}))return"domain";if(r.default.is.unit(e))return"unit";const t=$(e);return t.meta.op?t.meta.op:"unknown"}o.registerScope=function(e,t){return p.save(e,{name:t.name}),c.forEach((t=>t(e))),()=>{p.delete(e)}},o.unregisterAllScopes=function(){p.clear()};const v=e=>e.graphite||e,b=new Map;function w(e){const t=b.get(v(e).id);if(t)return t;if(y(e)){const t=$(e),n=t.family.owners.find((e=>"effect"===e.meta.op));if(n){const e=k(n);return`${e?`${e}/`:""}${w(n)}.${t.meta.named}`}return t.meta.named}if(function(e){const t=$(e),{op:n}=t.meta;return"on"===n}(e)){const t=$(e);return`${w(t.next[0])}.on(${w(t.family.owners[0])})`}if(r.default.is.unit(e)){if(e?.compositeName?.fullName)return e.compositeName.fullName;const t=k(e),n=t?`${t}/`:"";if(e?.shortName)return`${n}${e.shortName}`;if(e?.name)return`${n}${e.name}`}return $(e)?.meta?.name?$(e).meta.name:null}function k(e){const t=$(e).family.owners.find((e=>"domain"===e.meta.op));return t?w(t):null}function j(e){const t=function({meta:e}){return"config"in e?e.config.loc:e.loc}($(e));if(t)return t}function $(e){return"graphite"in e?e.graphite:e}function _(e){if(!e)return{};return e.meta||{}}})),c=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.delay=function({source:e,timeout:t,target:n=(0,r.default.createEvent)({name:"target",sid:"-83bfmt"})}){const o=Array.isArray(n)?n:[n];if(!r.default.is.unit(e))throw new TypeError("source must be a unit from effector");if(!o.every((e=>r.default.is.unit(e))))throw new TypeError("target must be a unit from effector");const a=function(e){if(r.default.is.store(e,{sid:"-udpazz"})||"function"==typeof e||"number"==typeof e)return e;throw new TypeError(`'timeout' argument must be a function, Store, or a number. Passed "${typeof e}"`)}(t),i=(0,r.default.createEffect)((({payload:e,milliseconds:t})=>new Promise((n=>{setTimeout(n,t,e)}))),{name:"timerFx",sid:"crkyrv"});return(0,r.default.sample)({and:[{source:(0,r.default.combine)({and:[{milliseconds:a}],or:{name:"source",sid:"-vx03ze"}}),clock:e,fn:({milliseconds:e},t)=>({payload:t,milliseconds:"function"==typeof e?e(t):e}),target:i}],or:{sid:"-vofthe"}}),(0,r.default.sample)({and:[{clock:i.doneData,target:o}],or:{sid:"-uu74uj"}}),n}})),l=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.either=function e(t,n,o){if(r.default.is.store(t,{sid:"ozzvoc"}))return(0,r.default.combine)({and:[t,n,o,(e,t,n)=>e?t:n],or:{sid:"-5vau2h"}});const a=t;return e(a.filter,a.then,a.other)}})),f=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.empty=function(e){return e.map((e=>null===e))}})),m=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.equals=function(e,t){return(0,r.default.combine)({and:[e,t,(e,t)=>e===t],or:{sid:"-pqjlti"}})}})),p=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.every=function(e,t){let n,o=[],a=()=>!1;Array.isArray(e)?(o=e,a=t):Array.isArray(e.stores)&&(o=e.stores,a=e.predicate);i=a,n="function"==typeof i?a:r.default.is.store(a,{sid:"sid3ut"})?a.map((e=>t=>e===t)):e=>e===a;var i;const u=(0,r.default.combine)({and:[o],or:{name:"$values",sid:"h09uhg"}}),s=n;return(0,r.default.combine)({and:[s,u,(e,t)=>t.every(e)],or:{sid:"hfkdw9"}})}})),g=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.format=function(e,...t){return(0,r.default.combine)({and:[t,t=>e.reduce(((n,r,o)=>n.concat(function(e,t){return t===e.length-1}(e,o)?r:`${r}${function(e){if(Array.isArray(e))return e.map((e=>String(e))).join(", ");return String(e)}(t[o])}`)),"")],or:{sid:"-yrbthp"}})}})),y=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.inFlight=function({effects:e,domain:t}){if(t){const e=t.createStore(0,{name:"$inFlight",sid:"-y7vg7t"});return t.onCreateEffect((t=>{e.on(t,(e=>e+1)).on(t.finally,(e=>e-1))})),e}return(0,r.default.combine)({and:[e.map((e=>e.inFlight)),e=>e.reduce(((e,t)=>e+t),0)],or:{sid:"ubqxa7"}})}})),h=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.interval=function({timeout:e,start:t,stop:n,leading:o=!1,trailing:a=!1}){const i=null!=t?t:(0,r.default.createEvent)({name:"setup",sid:"-ajedhm"}),u=null!=n?n:(0,r.default.createEvent)({name:"teardown",sid:"-ryi8gr"}),s=(0,r.default.createEvent)({name:"tick",sid:"-cw8a02"}),d=(0,r.default.createStore)(!1,{name:"$isRunning",sid:"-5gspmy"}),c=function(e){if(r.default.is.store(e,{sid:"8i2x6t"}))return e;if("number"==typeof e)return(0,r.default.createStore)(e,{and:{name:"$timeout"},sid:"-jluixv"});throw new TypeError(`timeout parameter in interval method should be number or Store. "${typeof e}" was passed`)}(e),l=d.map((e=>!e)),f=(0,r.default.createEvent)({name:"saveTimeout",sid:"satd6r"}),m=(0,r.default.createStore)(null,{name:"$timeoutId",sid:"hehxq7"}).on(f,((e,{timeoutId:t})=>t)),p=(0,r.default.createStore)((()=>{}),{name:"$rejecter",sid:"-sc3eh9"}).on(f,((e,{reject:t})=>t)),g=(0,r.default.attach)({and:{source:{timeout:c,running:d},effect:({timeout:e,running:t})=>t?new Promise(((t,n)=>{const r=setTimeout(t,e);f({timeoutId:r,reject:n})})):Promise.reject()},or:{name:"timeoutFx",sid:"-xlxric"}}),y=(0,r.default.attach)({and:{source:{timeoutId:m,rejecter:p},effect:({timeoutId:e,rejecter:t})=>{t(),e&&clearTimeout(e)}},or:{name:"cleanupFx",sid:"-32ewxw"}});if((0,r.default.guard)({and:[{clock:i,source:c,filter:l,target:g}],or:{sid:"-us95i7"}}),o){const e=(0,r.default.guard)({and:[{clock:i,filter:l}],or:{name:"onReady",sid:"farho0"}});(0,r.default.sample)({and:[{clock:e,target:s}],or:{sid:"-ubrbnn"}})}(0,r.default.sample)({and:[{clock:i,fn:()=>!0,target:d}],or:{sid:"-ua3xxa"}}),(0,r.default.guard)({and:[{clock:g.done,source:c,filter:d,target:g}],or:{sid:"6lcmx8"}}),(0,r.default.guard)({and:[{clock:g.done,filter:d,target:s.prepend((()=>{}))}],or:{sid:"6p772r"}}),a&&(0,r.default.sample)({and:[{clock:u,target:s}],or:{sid:"75p0xb"}});return d.on(u,(()=>!1)),(0,r.default.sample)({and:[{clock:u,target:y}],or:{sid:"7ln232"}}),{tick:s,isRunning:d,"@@trigger":()=>({setup:i,teardown:u,fired:s})}}})),v=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.not=function(e){return e.map((e=>!e))}})),b=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.once=function(e){let t,n;r.default.is.unit(e)?t=e:({source:t,reset:n}=e);const o=(0,r.default.createStore)(!0,{name:"$canTrigger",sid:"-oewyj9"}),a=(0,r.default.sample)({and:[{source:t,filter:o}],or:{name:"trigger",sid:"g04b8v"}});o.on(a,(()=>!1)),n&&o.reset(n);return(0,r.default.sample)({and:[{clock:a}],or:{sid:"-owij98"}})}})),w=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=function(...e){return(0,r.default.combine)({and:[e,e=>{for(const t of e)if(t)return!0;return!1}],or:{sid:"-44722k"}})}})),k=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.pending=function({effects:e,domain:t,of:o="some"}){if(!r.default.is.domain(t,{sid:"97b92c"})&&!e)throw new TypeError("domain or effects should be passed");if("some"!==o&&"every"!==o)throw new TypeError(`strategy parameter "of" can be "every" or "some". Passed: "${o}"`);let a=null!=e?e:[];const i=n[o];t&&(a=[],t.onCreateEffect((e=>a.push(e))));return(0,r.default.combine)({and:[a.map((e=>e.pending)),i],or:{sid:"a37bj0"}})};const n={some:e=>e.some(Boolean),every:e=>e.every(Boolean)}})),j=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.reset=function({clock:e,target:t}){const n=Array.isArray(t)?t:[t],o=Array.isArray(e)?e:[null!=e?e:(0,r.default.createEvent)({name:"clocks",sid:"bqmea5"})];return n.forEach((e=>{e.reset(o)})),void 0===e?o[0]:void 0}})),$=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=function({source:e,shape:t}){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r];n[r]=e.map((e=>{const t=o(e);return void 0===t?null:t}))}return n}})),_=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.snapshot=function({source:e,clock:t,fn:n=(e=>e)}){const o=n(e.defaultState),a=t?(0,r.default.sample)({and:[{source:e,clock:t,fn:n}],or:{name:"onSnapshot",sid:"-imuiws"}}):(0,r.default.sample)({and:[{source:e,fn:n}],or:{name:"onSnapshot",sid:"-imaqbf"}}),i=(0,r.default.createStore)(o,{name:"$snapshot",sid:"-63s6pn"});return i.on(a,((e,t)=>t)),i}})),E=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.some=function(e,t){let n,o=[],a=()=>!1;Array.isArray(e)?(o=e,a=t):Array.isArray(e.stores)&&(o=e.stores,a=e.predicate);i=a,n="function"==typeof i?a:r.default.is.store(a,{sid:"zbwu0l"})?a.map((e=>t=>e===t)):e=>e===a;var i;const u=(0,r.default.combine)({and:[o],or:{name:"$values",sid:"-lv5do0"}}),s=n;return(0,r.default.combine)({and:[s,u,(e,t)=>t.some(e)],or:{sid:"-efc5w7"}})}})),P=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.splitMap=function({source:e,cases:t}){const n={};let o=r.default.is.store(e,{name:"current",sid:"-htjkz7"})?e.updates:e;for(const e in t)if(e in t){const r=t[e];n[e]=o.filterMap(r),o=o.filter({fn:e=>!r(e)})}return n.__=o,n}})),M=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.spread=function({targets:e,source:t=(0,r.default.createEvent)({name:"source",sid:"-fkbi3c"})}){for(const i in e)if(o=e,a=i,n.call(o,a)){const n=e[i],o=(0,r.default.guard)({and:[{source:t,greedy:!0,filter:e=>"object"==typeof e&&null!==e&&i in e}],or:{name:"hasTargetKey",sid:"-cov4g4"}});(0,r.default.sample)({and:[{greedy:!0,clock:o,fn:e=>e[i],target:n}],or:{sid:"lpn34j"}})}var o,a;return t};const n={}.hasOwnProperty})),O=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.status=function({effect:e,defaultValue:t="initial"}){const n=(0,r.default.createStore)(t,{name:"$status",sid:"abrgim"});return n.on(e,(()=>"pending")).on(e.done,(()=>"done")).on(e.fail,(()=>"fail")),n}})),S=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function({source:e,timeout:t,target:n=(0,r.default.createEvent)({name:"target",sid:"r328r6"})}){if(!r.default.is.unit(e))throw new TypeError("source must be unit from effector");const o=function(e){if(r.default.is.store(e,{sid:"-gzqwle"}))return e;if("number"==typeof e){if(e<0||!Number.isFinite(e))throw new Error(`timeout must be positive number or zero. Received: "${e}"`);return(0,r.default.createStore)(e,{and:{name:"$timeout"},sid:"-gs60mt"})}throw new TypeError(`timeout parameter should be number or Store. "${typeof e}" was passed`)}(t),a=(0,r.default.createEffect)({name:`throttle(${e.shortName||e.kind}) effect`,handler:e=>new Promise((t=>setTimeout(t,e)))},{name:"timerFx",sid:"-pyjx8k"}),i=(0,r.default.createStore)(null,{and:{serialize:"ignore"},name:"$payload",sid:"hzp5u0"}).on(e,((e,t)=>t)),u=(0,r.default.createEvent)({name:"triggerTick",sid:"-ry76an"}),s=(0,r.default.createStore)(!0,{and:{serialize:"ignore"},name:"$canTick",sid:"-4yqc5"}).on(u,(()=>!1)).on(n,(()=>!0));return(0,r.default.guard)({and:[{clock:e,filter:s,target:u}],or:{sid:"-hyxqny"}}),(0,r.default.sample)({and:[{source:o,clock:u,target:a}],or:{sid:"-hk3an7"}}),(0,r.default.sample)({and:[{source:i,clock:a.done,target:n}],or:{sid:"-hgsj31"}}),n}})),T=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.time=function({clock:e,getNow:t,initial:o}){const a=null!=t?t:n,i=(0,r.default.createEffect)(a,{name:"readNowFx",sid:"53d7kp"}),u=(0,r.default.restore)(i,null!=o?o:a(),{name:"$time",sid:"-xu6mk0"});return(0,r.default.forward)({and:{from:e,to:i},or:{sid:"remzgl"}}),u};const n=()=>Date.now()})),x=a.and,q=i.combineEvents,z=u.condition,A=s.debounce,N=d.debug,F=c.delay,I=l.either,C=f.empty,D=m.equals,R=p.every,B=g.format,K=y.inFlight,V=h.interval,G=v.not,H=b.once,J=w.or,L=k.pending,Q=j.reset,U=$.reshape,W=_.snapshot,X=E.some,Y=P.splitMap,Z=M.spread,ee=O.status,te=S.throttle,ne=T.time,re={and:x,combineEvents:q,condition:z,debounce:A,debug:N,delay:F,either:I,empty:C,equals:D,every:R,format:B,inFlight:K,interval:V,not:G,once:H,or:J,pending:L,reset:Q,reshape:U,snapshot:W,some:X,splitMap:Y,spread:Z,status:ee,throttle:te,time:ne};e.and=x,e.combineEvents=q,e.condition=z,e.debounce=A,e.debug=N,e.default=re,e.delay=F,e.either=I,e.empty=C,e.equals=D,e.every=R,e.format=B,e.inFlight=K,e.interval=V,e.not=G,e.once=H,e.or=J,e.pending=L,e.reset=Q,e.reshape=U,e.snapshot=W,e.some=X,e.splitMap=Y,e.spread=Z,e.status=ee,e.throttle=te,e.time=ne,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=patronum.umd.js.map
